# v1.2.0 - Streamlined Detection & Watch Mode

## ⚠️ Breaking Changes

- **Detection simplified**: MDX (Demucs) is now the only method - Spleeter and HQ Segment removed
- **Environment**: Migrated from Anaconda to standard Python venv (.venv)
- **Storage**: App data now in platform-standard locations (no change from v1.1.0)

## What's New

### Watch Mode - Real-Time Monitoring
- **Auto-discover new songs** as you add them to watched folder
- **Smart file monitoring** using OS-native watchers (efficient, low CPU)
- **Configurable debouncing** prevents processing storms
- **Cache synchronization** keeps UI in sync with filesystem changes

### UI Improvements
- **Resizable panels**: Drag splitters to customize layout (song list, waveform, task/log views)
- **Smart startup**: "Don't show again" checkbox auto-checks when system fully configured
- **Dynamic waveform markers**: Overlay markers for playhead and gap positions
- **Viewport lazy loading**: Smoother scrolling with large song lists
- **Window persistence**: Size, position, and panel layouts saved between sessions

### Multi-Song Tracking
- **Multi-entry gap info**: Folders with multiple txt files track gap data per song independently
- **No cross-contamination** between songs sharing the same folder

### Developer & Quality
- **601 cross-platform tests** with automated CI/CD
- **Type safety**: Fixed 56 type errors for better IDE support
- **GitHub Actions**: Automated builds for Windows/Linux/macOS
- **GPU Pack runtime hook**: Refactored for reliable PyInstaller builds

### Bug Fixes
- **Audio normalization**: Fixed Windows "Access Denied" errors with improved file locking
- **Config persistence**: Fixed config.ini reset during tests
- **Waveform accuracy**: Removed audio filter to preserve original amplitude
- **Cache versioning**: User prompt on upgrade to confirm re-scan
- **GPU Pack**: Improved compatibility and error handling
- **Worker queue**: Better cancellation and cleanup

## FAQs

**What happened to Spleeter detection?**
Removed to support modern Python versions (3.12+). MDX (Demucs) provides better accuracy and performance.

**Where is my data stored?**
Platform-standard locations since v1.1.0: `%LOCALAPPDATA%\USDXFixGap\` (Windows), `~/.local/share/USDXFixGap/` (Linux), `~/Library/Application Support/USDXFixGap/` (macOS)

**What's Watch Mode?**
Enable in UI to automatically scan for new songs, update changed files, and keep your collection synchronized.

## 🙏 Thanks

Thanks to all contributors, testers, and users for valuable feedback that made this release possible!
